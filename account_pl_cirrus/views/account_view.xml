<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <record id="view_move_form_cirrus" model="ir.ui.view">
      <field name="name">account.move.form.cirrus</field>
      <field name="model">account.move</field>
      <field name="inherit_id" ref="account.view_move_form"/>
      <field name="arch" type="xml">
        <field name="journal_id" position="after">
          <field name="tax_date"/>
        </field>
        <field name="debit" position="before">
          <field name="tax_ids" widget="many2many_tags"/>
          <field name="tax_line_id"/>
        </field>
        <field name="credit" position="after">
          <field name="tax_value"/>
          <field name='tax_basic_custom'/>
          <field name="date_manual"/>
        </field>
        <xpath expr="//field[@name='line_ids']" position='before'>
          <group>
            <field name='custom_partner_id'/>
          </group>
        </xpath>
        <xpath expr="//page[@name='other_info']" position='after'>
            <page string="Declarations" name='declarations' attrs="{'invisible':[('move_type', 'not in', ('out_invoice', 'out_refund'))]}">
              <group>
                <group>
                  <field name="sw" string="SW"/>
                  <field name="ee" string="EE"/>
                  <field name="tp" string="TP"/>
                  <field name="tt_wnt" string="TT_WNT"/>
                  <field name="tt_d" string="TT_D"/>
                  <field name="mr_t" string="MR_T"/>
                  <field name="mr_uz" string="MR_UZ"/>
                </group>
                <group>
                  <field name="i_42" string="I_42"/>
                  <field name="i_63" string="I_63"/>
                  <field name="b_spv" string="B_SPV"/>
                  <field name="b_spv_dostawa" string="B_SPV_DOSTAWA"/>
                  <field name="b_mpv_prowizja" string="B_MPV_PROWIZJA"/>
                  <field name="split_payment_method" string="MPP"/>
                </group>
              </group>
              <group>
                <group>
                  <field name='doc_type_vdek'/>
                </group>
              </group>
            </page>

            <page string="Declarations" name='declarations' attrs="{'invisible':[('move_type', 'not in', ('in_invoice', 'in_refund'))]}">
                <group>
                  <group>
                    <field name="split_payment_method" string="MPP"/>
                    <field name="imp" string="IMP"/>
                  </group>
                </group>
                <group>
                  <group>
                    <field name='purchase_doc_vdek'/>
                  </group>
                </group>
              </page>
          </xpath>
      </field>
    </record>



    <record id="view_move_line_form_cirrus" model="ir.ui.view">
      <field name="name">account.move.line.form</field>
      <field name="model">account.move.line</field>
      <field name="inherit_id" ref="account.view_move_line_form"/>
      <field name="arch" type="xml">
        <field name="credit" position="after">
          <field name="tax_ids"/>
          <field name="tax_line_id"/>
          <field name="tax_value"/>
        </field>
      </field>
    </record>


    <record id="view_account_tax_form_og" model="ir.ui.view">
      <field name="name">account.tax.form.og</field>
      <field name="model">account.tax</field>
      <field name="inherit_id" ref="account.view_tax_form"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='tax_group_id']" position='before'>
          <field name="tag_id"/>
        </xpath>
      </field>
    </record>

    <record id="product_tax_markers_tree" model="ir.ui.view">
      <field name="name">product.tax.markers.tree</field>
      <field name="model">product.tax.marker</field>
      <field name="arch" type="xml">
          <tree>
            <field name='name'/>
            <field name='description'/>
          </tree>
      </field>
    </record>


    <record id="action_product_tax_markers" model="ir.actions.act_window">
        <field name="name">Znaczniki podatkowe produktów</field>
        <field name="res_model">product.tax.marker</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="product_tax_markers_tree"/>
    </record>


    <menuitem id="menu_finance_legal_reports" name="Raporty Ustawowe" parent="account.menu_finance_reports" sequence="5" />

    <menuitem
        id="menu_product_tax_markers"
        name="Znaczniki podatkowe produktów"
        parent="account.account_account_menu"
        action="action_product_tax_markers"/>

  </data>
</odoo>
